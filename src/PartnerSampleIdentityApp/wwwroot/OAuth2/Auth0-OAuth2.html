<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Auth0 Auth JS - Redirect</title>
    <!-- Regular Web Auth SDK - Load first and assign to a different namespace -->
    <script src="https://cdn.auth0.com/js/auth0/9.20/auth0.min.js"></script>
    <script>
        // Store the regular web auth constructor before it gets overwritten
        window.Auth0WebAuth = auth0.WebAuth;
    </script>
    <!-- SPA SDK -->
    <script src="https://cdn.auth0.com/js/auth0-spa-js/2.1/auth0-spa-js.production.js"></script>
    <link rel="stylesheet" href="/css/Styles.css" />
    <script type="module" src="scripts/main.js"></script>
</head>
<body>
    <div id="error-message"></div>

    <div class="flex-container">
        <div class="left">
            <a href="/">Home</a>
            <a href="/SAML/OktaSaml.html">Saml Login</a>
            <a href="/OAuth2/Auth0-OAuth2.html">OAuth2 Login</a>
        </div>
        <div class="centered-div">
            <h1>Alaska Airlines</h1>
            <h2>Partner Authentication Example - Auth0 OAuth2</h2>
        </div>
    </div>

    <div>
        <pre id="content-jwt" align="left">User Details will populate here after login</pre>
    </div>
    <hr />

    <div>
        <label for="authTypeSelector">Select Authentication Type:</label>
        <select id="authTypeSelector" onchange="window.selectAuthType(this.value)">
            <option value="spa">Single Page Application</option>
            <option value="regular">Regular Web Application</option>
        </select>
    </div>

    <div id="oauthForm" class="auth-form">
        <form id="oauthConfigForm">
            <label for="oauthDomain">Enter OAuth domain URL:</label>
            <input type="text" id="oauthDomain" name="oauthDomain" required size="50" />
            <br />
            <label for="oauthClientId">Enter OAuth client ID:</label>
            <input type="text" id="oauthClientId" name="oauthClientId" required size="32" />
            <br />
            <label for="oauthRedirectUrl">Enter OAuth redirect URL:</label>
            <input type="text" id="oauthRedirectUrl" name="oauthRedirectUrl" required size="50" />
            <br />
            <label for="appState">Enter App State:</label>
            <input type="text" id="appState" name="appState" placeholder='Some App State.' size="50" />
            <p class="note">App State is not the same as state. AppState doesn't leave the browser.</p>
            <br />
            <div id="returnedAppState-div">
                <label for="returnedAppState">The Returned App State:</label>
                <input type="text" id="returnedAppState" name="returnedAppState" size="50" readonly />
            </div>
            <p><button type="button" id="loginButton" onclick="window.login();">Login with Auth0</button></p>
            <p><button type="button" id="logoutButton" onclick="window.logout();">Logout</button></p>
            <div id="loginToAlaskaAir-div">
                <p>www.alaskaair.com still uses login cookies. Guests are logged in with a token, but not with the cookies. Click below</p>
                <p><button type="button" id="loginToAlaskaAirButton" onclick="window.loginToAlaskaAir();">Login to www.AlaskaAir.com</button></p>
            </div>
        </form>
    </div>
</body>
</html>